(this.webpackJsonpcountdowns=this.webpackJsonpcountdowns||[]).push([[0],{134:function(n,e,t){"use strict";t.r(e);var o=t(1),c=t(14),a=t.n(c),d=t(9),r=t(32),u=t(63),i=localStorage.getItem("countdowns"),s={now:(new Date).getTime(),countdowns:null!==i?JSON.parse(i):[]},l=Object(r.b)({name:"countdowns",initialState:s,reducers:{addCountdown:function(n,e){var t=e.payload,o=t.name,c=t.time;n.countdowns.push({name:o,time:c})},deleteCountdown:function(n,e){var t=e.payload.index;n.countdowns.splice(t,1)},reorderCountdown:function(n,e){var t=e.payload,o=t.start,c=t.end,a=Array.from(n.countdowns),d=a.splice(o,1),r=Object(u.a)(d,1)[0];a.splice(c,0,r),n.countdowns=a},updateCountdownName:function(n,e){var t=e.payload,o=t.index,c=t.name;n.countdowns[o].name=c},updateCountdownDate:function(n,e){var t=e.payload,o=t.index,c=t.time;n.countdowns[o].time=c},updateNow:function(n,e){var t=e.payload.now;n.now=t}}}),j=l.actions,b=j.addCountdown,w=j.deleteCountdown,f=j.reorderCountdown,m=j.updateCountdownName,h=j.updateCountdownDate,g=j.updateNow,O=function(n){return n.countdowns.countdowns},p=function(n){return n.countdowns.now},v=l.reducer,x=Object(r.a)({reducer:{countdowns:v}}),C=function(){return Object(d.c)()},y=x,D=(t(71),t(17)),N=(t(72),t(60)),I=t.n(N),T=t(59),k=t.n(T),M=(t(74),t(75),t(6)),S=1e3,P=6e4,F=36e5,R=864e5,E=function(n){var e=n.handleDelete,t=n.handleDateChange,c=n.handleNameChange,a=n.name,d=n.date,r=n.remaining,u=Object(o.forwardRef)((function(n,e){var t=n,o=t.onClick,c=t.value;return Object(M.jsx)("button",{className:"date-button",onClick:o,ref:e,children:c})}));return Object(M.jsxs)("div",{className:"countdown",children:[Object(M.jsxs)("div",{children:[Object(M.jsx)(k.a,{html:a,onChange:function(n){c(n.target.value)},tagName:"h1"}),Object(M.jsx)("h2",{children:function(n){var e=n>0;n=Math.abs(n);var t=Math.floor(n/R);n-=t*R;var o=Math.floor(n/F);n-=o*F;var c=Math.floor(n/P);n-=c*P;var a=Math.floor(n/S);n-=a*S;var d="";return t>0&&(d+="".concat(t," day").concat(1===t?"":"s",", ")),(o>0||""!==d)&&(d+="".concat(o," hour").concat(1===o?"":"s",", ")),(c>0||""!==d)&&(d+="".concat(c," minute").concat(1===c?"":"s",", ")),(a>0||""!==d)&&(d+="".concat(a," second").concat(1===a?"":"s")),""===d?"now":e?"in ".concat(d):"".concat(d," ago")}(r)})]}),Object(M.jsx)("div",{children:Object(M.jsx)(I.a,{selected:d,onChange:function(n){return t(n)},timeInputLabel:"Time:",dateFormat:"MM/dd/yyyy h:mm aa",showTimeInput:!0,customInput:Object(M.jsx)(u,{})})}),Object(M.jsx)("button",{className:"countdown-delete",onClick:e,children:"X"})]})},J=function(n){var e=n.index,t=n.countdown,o=Object(d.d)(p),c=C(),a=new Date(t.time);return Object(M.jsx)(E,{name:t.name,date:a,handleDelete:function(){c(w({index:e}))},handleNameChange:function(n){c(m({index:e,name:n}))},handleDateChange:function(n){null!==n&&c(h({index:e,time:n.getTime()}))},remaining:a.getTime()-o})},L=t(35),A=function(n){var e=n.countdowns,t=n.onCreateCountdown,o=n.onReorderCountdown;return Object(M.jsxs)("div",{children:[Object(M.jsx)("div",{children:Object(M.jsx)("button",{onClick:t,children:"Add Countdown"})}),Object(M.jsx)("div",{children:Object(M.jsx)(L.a,{onDragEnd:function(n){o(n.source.index,n.destination.index)},children:Object(M.jsx)(L.c,{droppableId:"droppable",children:function(n,t){return Object(M.jsxs)("div",Object(D.a)(Object(D.a)({},n.droppableProps),{},{ref:n.innerRef,style:(t.isDraggingOver,{}),children:[e.map((function(n,e){return Object(M.jsx)(L.b,{draggableId:e.toString(),index:e,children:function(t,o){return Object(M.jsx)("div",Object(D.a)(Object(D.a)(Object(D.a)({className:"countdown-container",ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{style:(c=o.isDragging,a=t.draggableProps.style,Object(D.a)({background:c?"#c0c7d1":"#e1e9f7"},a)),children:Object(M.jsx)(J,{index:e,countdown:n})}));var c,a}},e)})),n.placeholder]}))}})})})]})},B=function(){var n=Object(d.d)(O),e=C();Object(o.useEffect)((function(){var n=setInterval((function(){e(g({now:(new Date).getTime()}))}),1e3);return function(){return clearInterval(n)}})),Object(o.useEffect)((function(){localStorage.setItem("countdowns",JSON.stringify(n))}),[n]);return Object(M.jsx)(A,{countdowns:n,onCreateCountdown:function(){var n=new Date;n.setHours(24,0,0,0),e(b({name:"New Countdown",time:n.getTime()}))},onReorderCountdown:function(n,t){e(f({start:n,end:t}))}})},H=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,139)).then((function(e){var t=e.getCLS,o=e.getFID,c=e.getFCP,a=e.getLCP,d=e.getTTFB;t(n),o(n),c(n),a(n),d(n)}))};a.a.render(Object(M.jsx)(d.a,{store:y,children:Object(M.jsx)(B,{})}),document.getElementById("root")),H()},71:function(n,e,t){},72:function(n,e,t){},74:function(n,e,t){}},[[134,1,2]]]);
//# sourceMappingURL=main.e2b7a9b2.chunk.js.map
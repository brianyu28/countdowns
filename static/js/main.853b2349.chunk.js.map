{"version":3,"sources":["store/countdowns.ts","store/store.ts","components/Countdown.tsx","containers/Countdown.tsx","components/App.tsx","containers/App.tsx","reportWebVitals.js","index.js"],"names":["storageCountdowns","localStorage","getItem","initialState","now","Date","getTime","countdowns","JSON","parse","countdownsSlice","createSlice","name","reducers","addCountdown","state","action","payload","time","push","deleteCountdown","index","splice","reorderCountdown","start","end","result","Array","from","removed","updateCountdownName","updateCountdownDate","updateNow","actions","selectCountdowns","selectNow","store","configureStore","reducer","countdownsReducer","useAppDispatch","useDispatch","MILLISECONDS_PER_SECOND","MILLISECONDS_PER_MINUTE","SECONDS_PER_MINUTE","MILLISECONDS_PER_HOUR","MINUTES_PER_HOUR","MILLISECONDS_PER_DAY","HOURS_PER_DAY","Countdown","props","handleDelete","handleDateChange","handleNameChange","date","remaining","className","onChange","event","target","value","selected","timeInputLabel","dateFormat","showTimeInput","inFuture","Math","abs","days","floor","hours","minutes","seconds","totalTime","timeRemainingString","onClick","CountdownContainer","countdown","useSelector","dispatch","App","onCreateCountdown","onReorderCountdown","onDragEnd","source","destination","droppableId","provided","snapshot","droppableProps","ref","innerRef","style","isDraggingOver","map","i","draggableId","toString","draggableProps","dragHandleProps","isDragging","draggableStyle","background","placeholder","AppContainer","useEffect","interval","setInterval","clearInterval","setItem","stringify","setHours","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.853b2349.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\nimport { RootState } from './store';\n\nexport interface CountdownDetails {\n  name: string,\n  time: number\n}\n\ntype CountdownsState = {\n  now: number,\n  countdowns: CountdownDetails[];\n}\n\nconst storageCountdowns = localStorage.getItem('countdowns');\n\nconst initialState: CountdownsState = {\n  now: new Date().getTime(),\n  countdowns: storageCountdowns !== null ? JSON.parse(storageCountdowns) : []\n};\n\nconst countdownsSlice = createSlice({\n  name: 'countdowns',\n  initialState,\n  reducers: {\n    addCountdown(state, action: PayloadAction<CountdownDetails>) {\n      const { name, time } = action.payload;\n      state.countdowns.push({ name, time });\n    },\n    deleteCountdown(state, action: PayloadAction<{index: number}>) {\n      const { index } = action.payload;\n       state.countdowns.splice(index, 1);\n    },\n    reorderCountdown(state, action: PayloadAction<{start: number, end: number}>) {\n      const { start, end } = action.payload;\n      const result = Array.from(state.countdowns);\n      const [removed] = result.splice(start, 1);\n      result.splice(end, 0, removed);\n      state.countdowns = result;\n    },\n    updateCountdownName(state, action: PayloadAction<{index: number, name: string}>) {\n      const { index, name } = action.payload;\n      state.countdowns[index].name = name;\n    },\n    updateCountdownDate(state, action: PayloadAction<{index: number, time: number}>) {\n      const { index, time } = action.payload;\n      state.countdowns[index].time = time;\n    },\n    updateNow(state, action: PayloadAction<{now: number}>) {\n      const { now } = action.payload;\n      state.now = now;\n    },\n  }\n});\n\nexport const { addCountdown, deleteCountdown, reorderCountdown, updateCountdownName, updateCountdownDate, updateNow } = countdownsSlice.actions;\n\nexport const selectCountdowns = (state: RootState): CountdownDetails[] => state.countdowns.countdowns;\nexport const selectNow = (state: RootState): number => state.countdowns.now;\n\nexport default countdownsSlice.reducer;","import { configureStore } from '@reduxjs/toolkit';\nimport { useDispatch } from 'react-redux';\n\nimport countdownsReducer from './countdowns';\n\nconst store = configureStore({\n  reducer: {\n    countdowns: countdownsReducer\n  }\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\n\nexport type AppDispatch = typeof store.dispatch;\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\n\nexport default store;","import DatePicker from 'react-datepicker';\n\nimport './Countdown.css';\nimport 'react-datepicker/dist/react-datepicker.css';\n\ninterface CountdownProps {\n  name: string,\n  date: Date,\n  handleDelete: () => void,\n  handleNameChange: (name: string) => void,\n  handleDateChange: (date: Date) => void,\n  remaining: number\n}\n\n// Time constants\nconst MILLISECONDS_PER_SECOND = 1000;\nconst SECONDS_PER_MINUTE = 60;\nconst MINUTES_PER_HOUR = 60;\nconst HOURS_PER_DAY = 24;\n\nconst MILLISECONDS_PER_MINUTE = SECONDS_PER_MINUTE * MILLISECONDS_PER_SECOND;\nconst MILLISECONDS_PER_HOUR = MINUTES_PER_HOUR * MILLISECONDS_PER_MINUTE;\nconst MILLISECONDS_PER_DAY = HOURS_PER_DAY * MILLISECONDS_PER_HOUR;\n\nconst Countdown = (props: CountdownProps) => {\n\n  let { handleDelete, handleDateChange, handleNameChange, name, date, remaining } = props;\n\n  const changeName = (event: React.ChangeEvent<HTMLInputElement>) => {\n    handleNameChange(event.target.value);\n  }\n\n  const timeRemainingString = (remaining: number) : string => {\n    const inFuture : boolean = remaining > 0;\n    remaining = Math.abs(remaining);\n\n    // Calculate days, hours, minutes, seconds\n    const days : number = Math.floor(remaining / MILLISECONDS_PER_DAY);\n    remaining -= days * MILLISECONDS_PER_DAY;\n    const hours : number = Math.floor(remaining / MILLISECONDS_PER_HOUR);\n    remaining -= hours * MILLISECONDS_PER_HOUR;\n    const minutes : number = Math.floor(remaining / MILLISECONDS_PER_MINUTE);\n    remaining -= minutes * MILLISECONDS_PER_MINUTE;\n    const seconds : number = Math.floor(remaining / MILLISECONDS_PER_SECOND);\n    remaining -= seconds * MILLISECONDS_PER_SECOND;\n\n    // Construct time string\n    let totalTime = '';\n    if (days > 0) {\n      totalTime += `${days} day${days === 1 ? '' : 's'}, `;\n    }\n    if (hours > 0 || totalTime !== '') {\n      totalTime += `${hours} hour${hours === 1 ? '' : 's'}, `;\n    }\n    if (minutes > 0 || totalTime !== '') {\n      totalTime += `${minutes} minute${minutes === 1 ? '' : 's'}, `;\n    }\n    if (seconds > 0 || totalTime !== '') {\n      totalTime += `${seconds} second${seconds === 1 ? '' : 's'}`;\n    }\n\n    if (totalTime === '') {\n      return 'Now';\n    } else if (inFuture) {\n      return `In ${totalTime}`;\n    } else {\n      return `${totalTime} ago`;\n    }\n  }\n\n  return (\n    <div className='countdown'>\n      <div>\n        <input onChange={changeName} value={name} />\n      </div>\n      <div>\n        <DatePicker\n          selected={date}\n          onChange={date => handleDateChange(date as Date)}\n          timeInputLabel=\"Time:\"\n          dateFormat=\"MM/dd/yyyy h:mm aa\"\n          showTimeInput={true}\n        />\n      </div>\n      <div>\n        {timeRemainingString(remaining)}\n      </div>\n      <div>\n        <button onClick={handleDelete}>x</button>\n      </div>\n    </div>\n  );\n};\n\nexport default Countdown;","import { useSelector } from 'react-redux'\n\nimport { CountdownDetails, deleteCountdown, selectNow, updateCountdownDate, updateCountdownName } from '../store/countdowns';\nimport Countdown from '../components/Countdown';\nimport { useAppDispatch } from '../store/store';\n\ninterface CountdownContainerProps {\n  index: number,\n  countdown: CountdownDetails\n};\n\nconst CountdownContainer = (props: CountdownContainerProps) => {\n  let { index, countdown } = props;\n\n  const now = useSelector(selectNow);\n  const dispatch = useAppDispatch();\n\n  const date = new Date(countdown.time);\n\n  const handleNameChange = (name: string) => {\n    dispatch(updateCountdownName({ index, name }));\n  }\n\n  const handleDateChange = (date: Date | null) => {\n    if (date === null) {\n      return;\n    }\n    dispatch(updateCountdownDate({ index, time: date.getTime() }));\n  }\n\n  const handleDelete = () => {\n    dispatch(deleteCountdown({ index }));\n  }\n\n  return (\n    <Countdown\n      name={countdown.name}\n      date={date}\n      handleDelete={handleDelete}\n      handleNameChange={handleNameChange}\n      handleDateChange={handleDateChange}\n      remaining={date.getTime() - now}\n    />\n  )\n};\n\nexport default CountdownContainer;\n\n","\nimport './App.css';\n\nimport Countdown from '../containers/Countdown';\nimport { CountdownDetails } from '../store/countdowns';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\ninterface AppProps {\n  countdowns: CountdownDetails[],\n  onCreateCountdown: () => void,\n  onReorderCountdown: (start: number, end: number) => void,\n}\n\nconst App = (props: AppProps) => {\n  const { countdowns, onCreateCountdown, onReorderCountdown } = props;\n\n  const getListStyle = (_isDraggingOver: boolean) => ({\n  });\n\n  const getItemStyle = (isDragging: boolean, draggableStyle: any) => {\n    return {\n      background: isDragging ? '#e1e9f7' : 'white',\n      ...draggableStyle,\n    };\n  }\n\n  const onDragEnd = (result: any) => {\n    onReorderCountdown(result.source.index, result.destination.index);\n  };\n\n  return (\n    <div>\n      <div>\n        <button onClick={onCreateCountdown}>Add Countdown</button>\n      </div>\n      <div>\n        <DragDropContext onDragEnd={onDragEnd}>\n          <Droppable droppableId='droppable'>\n            {(provided, snapshot) => (\n              <div\n                {...provided.droppableProps}\n                ref={provided.innerRef}\n                style={getListStyle(snapshot.isDraggingOver)}\n              >\n                {countdowns.map((countdown, i) => \n                  <Draggable key={i} draggableId={i.toString()} index={i}>\n                    {(provided, snapshot) => (\n                      <div\n                        ref={provided.innerRef}\n                        {...provided.draggableProps}\n                        {...provided.dragHandleProps}\n                        style={getItemStyle(snapshot.isDragging, provided.draggableProps.style)}\n                      >\n                        <Countdown\n                          index={i}\n                          countdown={countdown}\n                        />\n                      </div>\n                    )}\n                  </Draggable>\n                )}\n                {provided.placeholder}\n              </div>\n            )}\n          </Droppable>\n        </DragDropContext>\n      </div>\n    </div>\n  )\n};\n\nexport default App;\n","import { useEffect } from 'react';\nimport { useSelector } from 'react-redux'\n\n\nimport App from '../components/App';\nimport { addCountdown, reorderCountdown, selectCountdowns, updateNow } from '../store/countdowns';\nimport { useAppDispatch } from '../store/store';\n\nconst AppContainer = () => {\n\n  const countdowns = useSelector(selectCountdowns);\n  const dispatch = useAppDispatch();\n\n  // Update time every second\n  useEffect(() => {\n    const interval = setInterval(() => {\n      dispatch(\n        updateNow({\n          now: new Date().getTime()\n        })\n      )\n    }, 1000);\n    return () => clearInterval(interval);\n  });\n\n  // Store data in local storage\n  useEffect(() => {\n    localStorage.setItem('countdowns', JSON.stringify(countdowns));\n  }, [countdowns]);\n\n  const handleCreateCountdown = () => {\n\n    // Calculate tomorrow's date\n    const date = new Date();\n    date.setHours(24, 0, 0, 0);\n\n    dispatch(\n      addCountdown({\n        name: 'New Countdown',\n        time: date.getTime(),\n      })\n    )\n\n  };\n\n  const handleReorderCountdown = (start: number, end: number) => {\n    dispatch(reorderCountdown({ start, end }))\n  };\n\n  return <App\n    countdowns={countdowns}\n    onCreateCountdown={handleCreateCountdown}\n    onReorderCountdown={handleReorderCountdown}\n  />;\n};\n\nexport default AppContainer;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Provider } from 'react-redux';\nimport store from './store/store';\n\nimport './index.css';\nimport App from './containers/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}